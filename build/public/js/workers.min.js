"use strict";var posList=document.querySelector(".collection"),delAction="/Workers/deleteWorker/",showAction="/Workers/echoWorkers/",tableHeader=document.getElementById("tbl-header").innerHTML,showParams="",sortNameBtn="",sortSnameBtn="",sortPosBtn="",sortSalBtn="";function viewPosition(t){var e=document.getElementById("upd-name"),n=document.getElementById("upd-sur-name"),s=document.getElementById("upd-pos"),o=document.getElementById("upd-slr"),a=document.getElementById("upd-desc"),r=document.getElementById("upd-id"),u=urlRoot+"/Workers/echoWorker/"+t,m=new XMLHttpRequest;m.open("GET",u,!0),m.onreadystatechange=function(){if(4==m.readyState&&200==m.status){var t=JSON.parse(m.responseText);e.value=t.name,n.value=t.surname,s.value=t.position_id,o.value=t.salary,a.value=t.Characteristics,r.value=t.id}},m.send(u)}function addWorker(){var t=document.getElementById("wrkr-name"),e=document.getElementById("wrkr-sur-name"),n=document.getElementById("wrkr-pos"),s=document.getElementById("wrkr-slr"),o=document.getElementById("wrkr-desc"),a=urlRoot+"/Workers/addWorker/"+t.value+"/"+e.value+"/"+n.value+"/"+s.value+"/"+o.value;ajaxGet(a)}function updateWorker(){var t=document.getElementById("upd-id").value,e=document.getElementById("upd-name").value,n=document.getElementById("upd-sur-name").value,s=document.getElementById("upd-pos").value,o=document.getElementById("upd-slr").value,a=document.getElementById("upd-desc").value,r=urlRoot+"/Workers/updateWorker/"+t+"/"+e+"/"+n+"/"+s+"/"+o+"/"+a;ajaxGet(r)}function SortButtonsStatus(t,e){document.getElementById("tbl-header").innerHTML=tableHeader;var n="",s="";switch("DESC"==t?(n="fa fa-caret-down",s="btn-info"):(n="fa fa-caret-up",s="btn-warning"),e){case"name":document.getElementById("name-btn").innerHTML='Имя <button class="btn '+s+' btn-sm" onclick="sort(\'name\')">\n    <i class="'+n+'"></i></button>';break;case"sname":document.getElementById("sur-name-btn").innerHTML='Фамилия <button class="btn '+s+' btn-sm" onclick="sort(\'sname\')">\n     <i class="'+n+'"></i></button>';break;case"pos":document.getElementById("pos-btn").innerHTML='Должность <button class="btn '+s+' btn-sm" onclick="sort(\'pos\')">\n    <i class="'+n+'"></i></button>';break;case"sal":document.getElementById("salary-btn").innerHTML='З/п <button class="btn '+s+' btn-sm" onclick="sort(\'sal\')">\n    <i class="'+n+'"></i></button>'}}function btnSwitch(t){switch(t){case"":return"DESC";case"DESC":return"ASC";case"ASC":return"DESC"}}function sortByName(){SortButtonsStatus(sortNameBtn=btnSwitch(sortNameBtn),"name"),showParams=sortNameBtn+"/name",showPositions()}function sort(t){switch(t){case"name":SortButtonsStatus(sortNameBtn=btnSwitch(sortNameBtn),t),showParams=sortNameBtn+"/name";break;case"sname":SortButtonsStatus(sortSnameBtn=btnSwitch(sortSnameBtn),"sname"),showParams=sortSnameBtn+"/surname";break;case"pos":SortButtonsStatus(sortPosBtn=btnSwitch(sortPosBtn),"pos"),showParams=sortPosBtn+"/position.pos_name";break;case"sal":SortButtonsStatus(sortSalBtn=btnSwitch(sortSalBtn),"sal"),showParams=sortSalBtn+"/salary"}showPositions()}function sortBySname(){SortButtonsStatus(sortSnameBtn=btnSwitch(sortSnameBtn),"sname")}function sortByPos(){SortButtonsStatus(sortPosBtn=btnSwitch(sortPosBtn),"pos")}function sortBySal(){SortButtonsStatus(sortSalBtn=btnSwitch(sortSalBtn),"sal")}