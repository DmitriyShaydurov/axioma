"use strict";var posList=document.querySelector(".collection"),delAction="/Positions/deletePosition/",showAction="/Positions/echoPositions/",showParams="";function viewPosition(e){var t=document.getElementById("upd-description"),o=document.getElementById("upd-id"),n=document.getElementById("upd-pos-name"),i=urlRoot+"/Positions/echoPosition/"+e,d=new XMLHttpRequest;d.open("GET",i,!0),d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){var e=JSON.parse(d.responseText);t.value=e.description,o.value=e.id,n.value=e.name}},d.send(i)}function addPosition(e,t){var o=urlRoot+"/Positions/addPosition/"+e+"/"+t;ajaxGet(o)}function updatePosition(e,t,o){var n=urlRoot+"/positions/updatePosition/"+o+"/"+e+"/"+t;ajaxGet(n)}function allFieldsOk(e){return!!checked(e[0],lettersPattern)}function serverCheck(e){var t=void 0,o=void 0,n=void 0;e?(t=document.getElementById("pos-name").value,o=document.getElementById("description").value):(t=document.getElementById("upd-pos-name").value,o=document.getElementById("upd-description").value,n=document.getElementById("upd-id").value);var i=urlRoot+"/Positions/checkPosition/"+t,d=new XMLHttpRequest;d.open("GET",i,!0),d.onreadystatechange=function(){if(4==d.readyState&&200==d.status)if("ok"==d.responseText)e?addPosition(t,o):updatePosition(t,o,n);else{var i=document.getElementById("server-err");i.classList.contains("d-none")&&i.classList.remove("d-none")}},d.send(i)}document.getElementById("pos-name").addEventListener("keyup",function(e){checkOk("add-btn","add-info",addWrFieldNames)}),document.getElementById("upd-pos-name").addEventListener("keyup",function(e){checkOk("save-pos","upd-info",updWrFieldNames)});